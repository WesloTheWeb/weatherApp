import React, { useState } from 'react';
import Head from 'next/head';
import LocationInput from '../src/containers/LocationInput/LocationInput';
import ForeCast from '../src/containers/ForeCast/ForeCast';
import Footer from '../src/components/Footer/Footer';
import { QueryContext } from '../src/context/QueryContext';

export default function Home() {

  const [query, setQuery] = useState(''); // For query input
  const [weather, setWeather] = useState({}); // Values for locatiion
  const [location, setLocation] = useState({});

  const providerValues = React.useMemo(() => ({
    query, setQuery,
    weather, setWeather,
    location, setLocation
}), [query, weather, location]);
  
  return (
    <div>
      <Head>
        <title>Weather Application</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <h1> Welcome to the <br /><span className="title">Weather App</span></h1>
        <p className="instructions">To use, simply enter a city or zip code below and press enter.</p>
        <QueryContext.Provider value={providerValues}>
          <LocationInput />
          <ForeCast value={providerValues}/>
        </QueryContext.Provider>
          <Footer />
      </main>
    </div>
  )
};